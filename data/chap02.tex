
%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 

\chapter{相关研究}
\label{chap:related}

实现高效通用数据中心目标的前提在于保障应用服务质量。类似于系统安全需要所有环节安全
才能保障端到端（End-to-End）的安全，服务质量保障也需要应用全生命周期所有环节的支持。
在数据中心层面，这需要从服务器节点内部、服务器之间通信以及分布式架构多个层次协同工作。
近年来，学术界、工业界在这三个层次都不断努力。例如，近年来流行的Software Defined
Networking（SDN）技术\cite{SDN}目标就是解决数据中心网络通信的管理、共享与性能隔离问题。
Google在分布式架构上采用了超时发送备份请求同步后台管理进程等技术[11]来提高服务质量。
单节点内服务质量保障技术已成为短板。由于体系结构上不支持服务质量保障，而主流的软件
隔离技术能对资源容量隔离起到较好的效果，但无法保障性能隔离，无法保障服务质量。
总的来说，国内外在保障应用服务质量方面的研究包括单节点与分布式环境两个方面。
以下分别从这两个方面介绍相关工作。


应用混合的目标分为两方面：一是提高资源利用率，二是保障关键应用的服务质量。现有的运行时
管理方案[15]–[17]大都通过硬件性能计数器对关键应用的性能进行监控，并在性能发生下降时对非
关键应用进行各种处理，以减小由于资源竞争引起的性能问题。

造成资源利用率的核心问题在于计算机资源处于“无管理共享”状态，因此多个应用共享资源时会发
生竞争与干扰，最终导致关键应用性能不可预测。目前尚无很好的技术方案解决计算机资源“无管理
共享”的问题，以Google为代表的工业界采用将在线服务器与离线服务器分离的方法，通过降低在线
服务器的负载来保障在线应用的服务质量。

学术界在共享资源管理方面从2个维度、4个方面开展研究：软件调度、软件划分、硬件调度、硬件
划分。软件调度是通过操作系统/Hypervisor层次进行进程、线程或虚拟机级别的调度，一般调度粒
度较大，需要上下文切换，时间上也需要几毫秒到几十毫秒，不能满足在线应用的快时响应的需求；
软件划分技术能对Cache容量进行划分，但无法管理访存带宽这类资源，且软件划分技术配置调整开
销较大；硬件调度技术能支持访存请求级别的细粒度调度，但灵活性较多，不能根据不同应用按需管
理；硬件划分技术对Cache容量比较有效，但也无法对带宽等进行管理，而且同样面临灵活性差的问
题。面对诸多问题，斯坦福大学Christos Kozyrakis教授提出应该重新考虑整个计算机架构，从应用
特征、硬件隔离、操作系统、机群调度、高效资源管理硬件等多层次协同设计[18]。

\section{调度方法}
\label{sec:other}


\section{隔离方法}
\label{sec:multifig}


\section{本章小结}

从现有技术来看，单节点内服务质量保障技术的不足，导致节点内应用相互干扰严重，某种程
度上成为目前数据中心整体服务质量保障的短板，是成为长尾延迟现象的主要因素之一。同时
这也是一个非常具有挑战的问题，这需要跨层次协同设计。美国计算共同委员会（Computing 
Community Consortium）于2012年5月发布的计算机体系结构共同体白皮书《21世纪计算机体系
结构》中也将单节点内保障服务质量作为未来研究方向之一，其中认为[9]：“管理应用之间的相
互作用也带来了挑战。例如，这些应用如何表达服务质量（QoS）目标并且让底层的硬件、操作
系统以及虚拟层共同工作来保障它们。”

